# Changelog

All notable changes to the Zammad MCP Server will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Added

- [**breaking**] Add Pydantic request models for MCP tool input validation
- Add zammad-mcp-quality skill for project QA
- Add Conductor workspace configuration (#104)
- **docs**: Add docstring template helper
- **server**: Add title annotations to all tools
- **models**: Add response_format to GetTicketParams
- **server**: Add markdown formatter for ticket details
- **server**: Add response format support to zammad_get_ticket
- **server**: Unify response formats for user and org tools
- **config**: Add transport configuration model with env support
- **main**: Add HTTP transport support via environment config

### Dependencies

- **deps**: Update github/codeql-action digest to 4e94bd1 (v4) (#107)
- **deps**: Update actions/upload-artifact digest to 330a01c (v4) (#108)
- **deps**: Update dependency uv to v0.9.7 (#106)
- **deps**: Update python:3.13-slim Docker digest to 452ed86 (#105)
- **deps**: Update github/codeql-action digest to 0499de3 (v4) (#109)
- **deps**: Update dependency uv to v0.9.9 (#112)
- **deps**: Update docker/metadata-action digest to 318604b (v5.8.0) (#111)
- **deps**: Update astral-sh/setup-uv digest to 5a7eac6 (v7.1.1) (#110)
- **deps**: Update github/codeql-action digest to 014f16e (v4) (#117)

### Documentation

- **server**: Enhance zammad_search_tickets docstring
- **server**: Enhance tool docstrings with MCP compliance
- Add response format section and update MCP version
- **changelog**: Update for MCP audit fixes
- **plan**: Add HTTP transport implementation plan and exclude plans from linting
- **readme**: Add HTTP transport documentation and update stdio note
- **deployment**: Add comprehensive HTTP transport deployment guide
- **env**: Add HTTP transport configuration examples

### Fixed

- Reorganize .gitignore and remove duplicates
- Prevent duplicate kwargs in add_article tool
- Use isoformat() for accurate timezone representation
- Ensure JSON truncation respects limit after adding metadata
- Resolve ticket ID vs number confusion in UX (issue #99)
- Remove markdownlint from Codacy config (requires Docker)
- Resolve Codacy code quality issues
- Resolve ticket resource handler AttributeError with Pydantic models (#103)
- **config**: Remove unsupported pipeline_remediation section from CodeRabbit config
- **server**: Change name to 'zammad_mcp' per MCP convention
- **docs**: Correct docstring template per plan spec
- **server**: Remove redundant 'Zammad' from Search Tickets title
- **docs**: Correct zammad_search_tickets docstring accuracy
- **docs**: Use modern type syntax in docstrings per CLAUDE.md
- **server**: Handle Article objects in ticket markdown formatter
- **tests**: Move imports to top level per CLAUDE.md
- **config**: Add port validation and improve error messages

### Miscellaneous Tasks

- **ai**: Update claude settings
- Fix mypy type checking errors
- Add markdownlint-cli2 integration and reorganize docs
- Update Codacy configuration with improved exclusions
- **configs**: Update configs
- Remove unused setup script and Codacy-related tasks from configuration
- Update coverage threshold to 86% to match current reality

### Performance

- Optimize code quality and performance

### Refactor

- Move article validation to Pydantic models
- Use proper date types for GetTicketStatsParams
- Add strict validation to forbid extra fields
- Rename ArticleCreate.type to article_type to avoid built-in shadow
- Add type annotation to validator info parameter
- Use keyword arguments in get_ticket call
- Use JSON-safe serialization for create_ticket payload
- Use JSON-safe serialization with aliases for add_article
- Use keyword arguments in search_users and search_organizations
- **server**: Simplify CHARACTER_LIMIT to constant

### Testing

- Add comprehensive tests for add_article tool with params model
- Use specific ValidationError in negative tests

<!-- generated by git-cliff -->

## [0.1.3] - 2025-08-06

### Added

- Improve code quality and test coverage to 89.1%
- Implement comprehensive attachment support for ticket articles
- Add zammad://queue/{group} resource for ticket queue management

### Dependencies

- **deps**: Update python digest to (3.12)
- **deps**: Update python:3.13-slim Docker digest to 4c2cf99
- **deps**: Pin dependencies
- **deps**: Update docker/login-action digest to 184bdaa (v3) (#41)
- **deps**: Update docker/metadata-action digest to c1e5197 (v5.7.0)
- **deps**: Update docker/login-action digest to 184bdaa (v3.4.0)

### Documentation

- Add development setup and GitHub MCP server documentation
- Update CHANGELOG for issue #39 fix and recent changes

### Fixed

- Pin third-party GitHub Actions to commit SHAs for security
- Address pre-commit hook errors in test files
- Patch ZammadClient in test_initialize_with_envrc_warning to avoid ConfigException
- Add type ignore comments to resolve mypy errors in test_server.py
- Resolve pre-commit hook issues
- Resolve "Zammad client not initialized" error when running with uvx (#39)

### Miscellaneous Tasks

- Configure Renovate to auto-update GitHub Actions SHAs
- Update GitHub Personal Access Token handling and add new MCP commands
- Configure pre-commit hooks to be less strict for test files
- Update configuration files for MCP servers
- Bump version to 0.1.3

### Refactor

- Add proper shutdown cleanup to lifespan context manager

### Styling

- Apply ruff formatting to test files

### Testing

- Improve code coverage from 68.72% to 72.88%
- Improve code coverage from 68.72% to 91.7%
- Fix authentication tests to isolate environment variables

## [0.1.2] - 2025-07-24

### Fixed

- Update dependencies to resolve starlette security vulnerability

### Miscellaneous Tasks

- Release v0.1.2 - security update

## [0.1.1] - 2025-07-24

### Added

- Implement Zammad MCP server with 16 tools and 3 resources
- Add setup scripts for easy installation
- Add .env.example for easy configuration
- Add article pagination to get_ticket
- Add Docker support for containerized deployment

### Dependencies

- **deps**: Update astral-sh/setup-uv action to v6
- **deps**: Update python Docker tag to v3.13
- **deps**: Migrate config renovate.json
- **deps**: Update dependency python
- **deps**: Update actions/attest-build-provenance action to v2
- **deps**: Update docker/build-push-action action to v6
- **deps**: Update codacy/codacy-analysis-cli-action digest to 0991600
- **deps**: Update astral-sh/setup-uv action to v6.4.1
- **deps**: Update codacy/codacy-analysis-cli-action digest to d28ce58
- **deps**: Update astral-sh/setup-uv action to v6.4.3

### Documentation

- Add comprehensive documentation
- Add CLAUDE.md for AI assistant context
- Update README with uvx support and improved documentation
- Update documentation for recent fixes
- Add Codacy code quality badge to README
- Clean up README structure and improve script execution instructions. Finalizes left over formatting from pr #22

### Fixed

- Resolve asyncio conflict in MCP server startup
- Handle Zammad API expand behavior in models
- Remove invalid Renovate configuration options
- **ci**: Add attestations permission for attest-build-provenance v2
- Remove duplicate log_data initialization
- Resolve failing GitHub workflows
- Add missing permission for Bash(python:*) in settings.local.json
- Handle Docker Hub rate limits in Codacy workflow
- Configure Codacy to use only Python-appropriate tools
- Disable Docker-based tools in Codacy to resolve parsing errors
- Resolve Docker build and authentication issues (#32, #33)
- Revert incorrect CHANGELOG date change

### Miscellaneous Tasks

- Update .gitignore for comprehensive coverage
- Add development environment configuration
- Configure Renovate for dependency management
- Remove test.md file
- Update dependency lock file
- Clean up .gitignore and add .gitmessage template
- Add .safety-project.ini configuration file for zammad-mcp project
- **docs**: Remove outdated command documentation and examples
- Remove unused 'serena' server configuration from .mcp.json
- Update permissions in settings.local.json and improve Dockerfile comments
- Release v0.1.1

### Refactor

- Simplify environment configuration

### Styling

- Apply ruff formatting to Python files

<!-- generated by git-cliff -->
